{"version":3,"sources":["webpack://mesto/./src/utils/constants.js","webpack://mesto/./src/components/FormValidator.js","webpack://mesto/./src/components/Card.js","webpack://mesto/./src/components/Section.js","webpack://mesto/./src/components/Popup.js","webpack://mesto/./src/components/popup-with-image.js","webpack://mesto/./src/components/popup-with-form.js","webpack://mesto/./src/components/user-info.js","webpack://mesto/./src/components/Api.js","webpack://mesto/./src/components/PopupWithConfirm.js","webpack://mesto/./src/pages/index.js"],"names":["validationObject","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","selectorObj","container","document","querySelector","editButton","addPhotoButton","changeAvatarButton","popupProfileInputs","querySelectorAll","FormValidator","config","popupSelector","this","_formSelector","_inputSelector","_submitBtnSelector","_inactiveButtonClass","_inputErrorClass","_errorClass","_formElement","inputElement","errorMessage","errorElement","id","classList","add","textContent","remove","validity","valid","_hideInputError","_showInputError","validationMessage","inputList","some","buttonElement","_hasInvalidInput","setAttribute","removeAttribute","Array","from","_toggleButtonState","forEach","addEventListener","_checkInputValidity","form","inputsArr","_setEventListeners","Card","templateSelector","userId","data","handleCardClick","handleTrashClick","handleLikeClick","_cardSelector","_name","name","_link","link","_idOwner","owner","_id","_cardId","_likes","likes","_handleCardClick","_handleTrashClick","_handleLikeClick","_userId","content","cloneNode","_element","_getTemplate","_picture","src","alt","_delete","_like","setLikes","like","arr","length","_checkLike","Section","containerSelector","renderer","_renderer","_container","item","element","append","prepend","Popup","_popupSelector","_popupElement","_popupCloseButton","_handleEscClose","bind","removeEventListener","evt","key","close","target","contains","_handlePopupClick","PopupWithImage","_popupTitle","_popupPhoto","title","PopupWithForm","handleSubmit","_handleSubmit","_popupForm","_inputList","_button","_textButton","reset","_formValues","input","value","status","preventDefault","_getInputValues","UserInfo","selectorName","selectorJob","selectorAvatar","_elementName","_elementJob","_avatar","_profileData","about","avatar","Api","baseUrl","headers","_baseUrl","_userUrl","_cardsUrl","_likesUrl","_token","fetch","authorization","then","res","ok","json","Promise","reject","method","body","JSON","stringify","cardId","PopupWithConfirm","_buttonConfirm","submitAction","_handleSubmitCallback","popupWithImage","open","card","popupWithConfirm","setSubmitAction","api","deleteCard","removeCard","catch","err","console","log","handlePopupConfirm","isLiked","dislikedCard","likedCard","createCard","dataCard","generateCard","userData","popupFormProfile","userInfo","getUserInfo","validFormPopupProfile","resetValidationState","popupFormAddCard","validFormPopupAddCard","popupFormChangeAvatar","cardList","cardItem","addItem","setEventListeners","inputsData","renderSaving","saveUserChanges","setUserInfo","finally","postNewCard","addItemPrepend","changedAvatar","enableValidation","all","getUserData","getInitialCards","values","renderItems"],"mappings":"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","file":"index.js","sourcesContent":["// --- ДАННЫЕ  ---\r\n\r\n//объект параметров для валидации форм\r\nconst validationObject = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__submit-btn',\r\n  inactiveButtonClass: 'popup__submit-btn_inactive',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__input-error_active',\r\n};\r\n\r\n\r\n//селекторы для создания экземпляров классов\r\nconst selectorObj = {\r\n  popupImageSelector: '.popup_type_image',\r\n  popupProfileSelector: '.popup_type_edit',\r\n  popupAddCardSelector: '.popup_type_add-card',\r\n  popupChangeAvatarSelector: '.popup_type_change-avatar',\r\n  elementsSelector: '.elements',\r\n  profileNameSelector: '.profile__title',\r\n  profileJobSelector: '.profile__subtitle',\r\n  cardId: '#card',\r\n  trashCard: '.element__trash',\r\n  popupConfirmSelector: '.popup_type_confirm',\r\n  avatarSelector:'.profile__avatar',\r\n};\r\n\r\n\r\nconst container = document.querySelector(\".container\");\r\nconst editButton = container.querySelector(\".profile__edit-btn\");\r\nconst addPhotoButton = container.querySelector(\".profile__add-btn\");\r\nconst changeAvatarButton = container.querySelector(\".profile__change-btn\");\r\nconst popupProfile = document.querySelector('.popup_type_edit');\r\nconst popupProfileInputs = popupProfile.querySelectorAll('.popup__input');\r\n\r\n\r\nexport {\r\n  validationObject,\r\n  editButton,\r\n  addPhotoButton,\r\n  selectorObj,\r\n  popupProfileInputs,\r\n  changeAvatarButton\r\n};\r\n","// --- КЛАСС ВАЛИДАЦИИ ФОРМ ---\r\n\r\nexport default class FormValidator {\r\n  constructor(config, popupSelector) {\r\n    this._formSelector = config.formSelector;\r\n    this._inputSelector = config.inputSelector;\r\n    this._submitBtnSelector = config.submitButtonSelector;\r\n    this._inactiveButtonClass = config.inactiveButtonClass;\r\n    this._inputErrorClass = config.inputErrorClass;\r\n    this._errorClass = config.errorClass;\r\n    this._formElement = document.querySelector(popupSelector);\r\n  }\r\n\r\n  //метод появления сообщения об ошибке\r\n  _showInputError(inputElement, errorMessage) {\r\n    const errorElement = this._formElement.querySelector(`#${inputElement.id}-error`);\r\n\r\n    inputElement.classList.add(this._inputErrorClass);\r\n    errorElement.textContent = errorMessage;\r\n    errorElement.classList.add(this._errorClass);\r\n  }\r\n\r\n  //метод скрытия сообщения об ошибке\r\n  _hideInputError(inputElement) {\r\n    const errorElement = this._formElement.querySelector(`#${inputElement.id}-error`);\r\n\r\n    inputElement.classList.remove(this._inputErrorClass);\r\n    errorElement.classList.remove(this._errorClass);\r\n    errorElement.textContent = '';\r\n  }\r\n\r\n\r\n  //метод управления сообщениями об ошибках\r\n  _checkInputValidity(inputElement) {\r\n    if(inputElement.validity.valid) {\r\n      this._hideInputError(inputElement);\r\n    } else {\r\n      this._showInputError(inputElement, inputElement.validationMessage);\r\n    }\r\n  }\r\n\r\n  //метод проверки на невалидные поля\r\n  _hasInvalidInput(inputList) {\r\n    return inputList.some(inputElement => {\r\n      return !inputElement.validity.valid;\r\n    });\r\n  }\r\n\r\n\r\n  //метод включения/выключения кнопки submit в форме\r\n  _toggleButtonState(inputList, buttonElement) {\r\n    if(this._hasInvalidInput(inputList)) {\r\n      buttonElement.setAttribute('disabled', true);\r\n      buttonElement.classList.add(this._inactiveButtonClass);\r\n    } else {\r\n      buttonElement.removeAttribute('disabled');\r\n      buttonElement.classList.remove(this._inactiveButtonClass);\r\n    }\r\n  }\r\n\r\n  //метод добавления слушателей для каждого поля ввода\r\n  _setEventListeners() {\r\n    const inputList = Array.from(this._formElement.querySelectorAll(this._inputSelector));\r\n    const buttonElement = this._formElement.querySelector(this._submitBtnSelector);\r\n    this._toggleButtonState(inputList, buttonElement);\r\n\r\n    inputList.forEach((inputElement) => {\r\n      inputElement.addEventListener('input', () => {\r\n        this._checkInputValidity(inputElement);\r\n\r\n        this._toggleButtonState(inputList, buttonElement);\r\n      });\r\n    });\r\n  }\r\n\r\n  //метод сброса результатов проверки формы\r\n  resetValidationState() {\r\n    const form = this._formElement.querySelector(this._formSelector);\r\n    const inputsArr = Array.from(form.querySelectorAll(this._inputSelector));\r\n    const buttonElement = form.querySelector(this._submitBtnSelector);\r\n\r\n    this._toggleButtonState(inputsArr, buttonElement);\r\n\r\n    inputsArr.forEach((inputElement) => {\r\n      this._hideInputError(inputElement);\r\n    });\r\n  }\r\n\r\n  //метод включения валидации\r\n  enableValidation() {\r\n    this._setEventListeners();\r\n  }\r\n}\r\n","// --- КЛАСС СОЗДАНИЯ КАРТОЧЕК ---\r\n\r\nexport default class Card {\r\n  constructor({\r\n    data,\r\n    handleCardClick,\r\n    handleTrashClick,\r\n    handleLikeClick\r\n  }, templateSelector, userId) {\r\n    this._cardSelector = templateSelector;\r\n    this._name = data.name;\r\n    this._link = data.link;\r\n    this._idOwner = data.owner._id;\r\n    this._cardId = data._id;\r\n    this._likes = data.likes;\r\n    this._handleCardClick = handleCardClick;\r\n    this._handleTrashClick = handleTrashClick;\r\n    this._handleLikeClick = handleLikeClick;\r\n    this._userId = userId;\r\n  }\r\n\r\n  _getTemplate() {\r\n    const cardElement = document\r\n      .querySelector(this._cardSelector)\r\n      .content\r\n      .querySelector('.element')\r\n      .cloneNode(true);\r\n\r\n    return cardElement;\r\n  }\r\n\r\n  generateCard() {\r\n    this._element = this._getTemplate();\r\n    this._picture = this._element.querySelector('.element__pic');\r\n    this._picture.src = this._link;\r\n    this._picture.alt = `Фото ${this._name}`;\r\n    this._element.querySelector('.element__title').textContent = this._name;\r\n    this._delete = this._element.querySelector('.element__trash');\r\n    this._like = this._element.querySelector('.element__like');\r\n\r\n    //отображаем кнопку \"Корзина\" только у карточек пользователя\r\n    if (this._userId !== this._idOwner) {\r\n      this._delete.remove();\r\n    }\r\n\r\n    this.setLikes(this._likes);\r\n    this._setEventListeners();\r\n\r\n    return this._element;\r\n  }\r\n\r\n  removeCard() {\r\n    this._element.remove();\r\n    this._element = null;\r\n  }\r\n\r\n  _checkLike() {\r\n    return this._likes.some(like => {\r\n      return like._id === this._userId;\r\n    });\r\n  }\r\n\r\n  //метод принимает данные лайков карточки и обновляет отображение карточки\r\n  setLikes(arr) {\r\n    this._element.querySelector('.element__sum-like').textContent = arr.length;\r\n    this._likes = arr;\r\n    if (this._checkLike()) {\r\n      this._like.classList.add('element__like_active');\r\n    } else {\r\n      this._like.classList.remove('element__like_active');\r\n    }\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._picture.addEventListener('click', () => {\r\n      this._handleCardClick(this._name, this._link);\r\n    });\r\n\r\n    this._delete.addEventListener('click', () => {\r\n      this._handleTrashClick(this._cardId, this);\r\n    });\r\n\r\n    this._like.addEventListener('click', () => {\r\n      this._handleLikeClick(this._cardId, this._checkLike(), this);\r\n    });\r\n  }\r\n}\r\n","// --- КЛАСС ОТВЕЧАЮЩИЙ ЗА ОТРИСОВКУ ЭЛЕМЕНТОВ НА СТРАНИЦЕ ---\r\n\r\nexport default class Section {\r\n  constructor({ renderer }, containerSelector) {\r\n    this._renderer = renderer; // функция, которая отвечает за создание и отрисовку данных на странице\r\n    this._container = document.querySelector(containerSelector);\r\n  }\r\n\r\n  //метод, который отвечает за отрисовку всех элементов\r\n  renderItems(arr, id) {\r\n    arr.forEach((item)=> this._renderer(item, id));\r\n  }\r\n\r\n  //метод, который принимает DOM-элемент и добавляет его в начало контейнера\r\n  addItem(element) {\r\n    this._container.append(element);\r\n  }\r\n\r\n  addItemPrepend(element) {\r\n    this._container.prepend(element);\r\n  }\r\n}\r\n","// --- КЛАСС ОТКРЫТИЯ/ЗАКРЫТИЯ ПОПАПОВ ---\r\n\r\nexport default class Popup {\r\n  constructor(popupSelector) {\r\n    this._popupSelector = popupSelector;\r\n    this._popupElement = document.querySelector(this._popupSelector);\r\n    this._popupCloseButton = this._popupElement.querySelector('.popup__close');\r\n    this._handleEscClose = this._handleEscClose.bind(this);\r\n  }\r\n\r\n  open() {\r\n    this._popupElement.classList.add('popup_opened');\r\n    document.addEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  close() {\r\n    this._popupElement.classList.remove('popup_opened');\r\n    document.removeEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  //функция обработки нажатия клавиши Esc для закрытия попапа\r\n  _handleEscClose(evt) {\r\n    if (evt.key === 'Escape') {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  //функция обработки клика за пределами области popup__container\r\n  _handlePopupClick(evt) {\r\n    if (evt.target.classList.contains(\"popup\")) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  setEventListeners() {\r\n    this._popupCloseButton.addEventListener('click', () => this.close());\r\n\r\n    this._popupElement.addEventListener(\"mousedown\", (evt) => this._handlePopupClick(evt));\r\n  }\r\n}\r\n","// --- КЛАСС СОЗДАНИЯ ПОПАПА С ИЗОБРАЖЕНИЕМ ---\r\n\r\nimport Popup from \"./Popup.js\";\r\n\r\nexport default class PopupWithImage extends Popup {\r\n  constructor(popupSelector) {\r\n    super(popupSelector);\r\n    this._popupTitle = this._popupElement.querySelector('.popup__photo-title');\r\n    this._popupPhoto = this._popupElement.querySelector('.popup__photo');\r\n  }\r\n\r\n  open(title, link) {\r\n    super.open();\r\n    this._popupTitle.textContent = title;\r\n    this._popupPhoto.src = link;\r\n    this._popupPhoto.alt = `Фото ${title}`;\r\n  }\r\n}\r\n","// --- КЛАСС РАБОТЫ С ФОРМАМИ В ПОПАПАХ ---\r\n\r\nimport Popup from './Popup.js';\r\n\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popupSelector, handleSubmit) {\r\n    super(popupSelector);\r\n    this._handleSubmit = handleSubmit;\r\n    this._popupForm = this._popupElement.querySelector(\".popup__form\");\r\n    this._inputList = this._popupElement.querySelectorAll(\".popup__input\");\r\n    this._button = this._popupForm.querySelector('.popup__submit-btn');\r\n    this._textButton = this._button.textContent;\r\n  }\r\n\r\n  close() {\r\n    super.close();\r\n    this._popupForm.reset();\r\n  }\r\n\r\n  // метод, который собирает данные всех полей формы\r\n  _getInputValues() {\r\n    this._formValues = {};\r\n\r\n    this._inputList.forEach((input) => {\r\n      this._formValues[input.name] = input.value;\r\n    });\r\n\r\n    return this._formValues;\r\n  }\r\n\r\n  renderSaving(status){\r\n    if(status){\r\n      this._button.textContent = `Cохранение...`;\r\n    } else {\r\n      this._button.textContent = this._textButton;\r\n    }\r\n  }\r\n\r\n  // дополнительно добавляем обработчик сабмита формы\r\n  setEventListeners() {\r\n    super.setEventListeners();\r\n    this._popupForm.addEventListener(\"submit\", (evt) => {\r\n      evt.preventDefault();\r\n      this._handleSubmit(this._getInputValues());\r\n    });\r\n  }\r\n}\r\n","// --- КЛАСС ОТОБРАЖЕНИЯ ИНФОРМАЦИИ О ПОЛЬЗОВАТЕЛЕ НА СТРАНИЦЕ ---\r\n\r\nexport default class UserInfo {\r\n  constructor({ selectorName, selectorJob, selectorAvatar }) {\r\n    this._elementName =  document.querySelector(selectorName);\r\n    this._elementJob = document.querySelector(selectorJob);\r\n    this._avatar = document.querySelector(selectorAvatar);\r\n  }\r\n\r\n  //метод который возвращает объект с данными пользователя\r\n  getUserInfo() {\r\n    return this._profileData = {\r\n      name: this._elementName.textContent,\r\n      about: this._elementJob.textContent,\r\n    };\r\n  }\r\n\r\n  //метод который принимает новые данные пользователя и добавляет их на страницу\r\n  setUserInfo({ name, about, avatar }) {\r\n    this._elementName.textContent = name;\r\n    this._elementJob.textContent = about;\r\n    this._avatar.src = avatar;\r\n  }\r\n}\r\n","// --- КЛАСС ДЛЯ ОТПРАВКИ ЗАПРОСОВ НА СЕРВЕР ---\r\n\r\nexport default class Api {\r\n  constructor({\r\n    baseUrl,\r\n    headers\r\n  }) {\r\n    this._baseUrl = baseUrl;\r\n    this._userUrl = `${this._baseUrl}/users/me`;\r\n    this._cardsUrl = `${this._baseUrl}/cards`;\r\n    this._likesUrl = `${this._baseUrl}/cards/likes`;\r\n    this._token = headers['authorization'];\r\n  }\r\n\r\n  //метод получения информации о пользователе с сервера\r\n  getUserData() {\r\n    return fetch(this._userUrl, {\r\n        headers: {\r\n          authorization: this._token,\r\n        }\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  //метод сохранения отредактированных данных пользователя на сервере\r\n  saveUserChanges({\r\n    name,\r\n    about\r\n  }) {\r\n    return fetch(this._userUrl, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          name: name,\r\n          about: about,\r\n        })\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  //метод обновления аватара пользователя\r\n  changedAvatar(src) {\r\n    return fetch(`${this._userUrl}/avatar`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          avatar: src.link\r\n        })\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  //метод получения карточек с сервера\r\n  getInitialCards() {\r\n    return fetch(this._cardsUrl, {\r\n        headers: {\r\n          authorization: this._token,\r\n        }\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  //метод добавления новой карточки на сервер\r\n  postNewCard({\r\n    name,\r\n    link\r\n  }) {\r\n    return fetch(this._cardsUrl, {\r\n        method: 'POST',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          name: name,\r\n          link: link,\r\n        })\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  //метод удаления карточки пользователя с сервера\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._cardsUrl}/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n        }\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  //метод постановки лайка карточке\r\n  likedCard(cardId) {\r\n    return fetch(`${this._likesUrl}/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this._token,\r\n        }\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n\r\n  //метод удаления лайка с карточки\r\n  dislikedCard(cardId) {\r\n    return fetch(`${this._likesUrl}/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n        }\r\n      })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n  }\r\n}\r\n","// --- КЛАСС СОЗДАНИЯ ПОПАПА С КНОПКОЙ ПОДТВЕРЖДЕНИЯ УДАЛЕНИЯ КАРТОЧКИ ---\r\n\r\nimport Popup from './Popup.js';\r\n\r\nexport default class PopupWithConfirm extends Popup {\r\n  constructor(popupSelector) {\r\n    super(popupSelector);\r\n    this._buttonConfirm = this._popupElement.querySelector('.popup__form');\r\n  }\r\n\r\n  setSubmitAction(submitAction) {\r\n    this._handleSubmitCallback = submitAction;\r\n  }\r\n\r\n  // дополнительно добавляем обработчик клика подтверждения\r\n  setEventListeners() {\r\n    super.setEventListeners();\r\n    this._buttonConfirm.addEventListener(\"submit\", (evt) => {\r\n      evt.preventDefault();\r\n      this._handleSubmitCallback()\r\n    });\r\n  }\r\n\r\n}\r\n","import './index.css';\r\n\r\nimport {\r\n  validationObject,\r\n  selectorObj,\r\n  editButton,\r\n  addPhotoButton,\r\n  popupProfileInputs,\r\n  changeAvatarButton\r\n} from \"../utils/constants.js\";\r\n\r\nimport FormValidator from \"../components/FormValidator.js\";\r\nimport Card from \"../components/Card.js\";\r\nimport Section from \"../components/Section.js\";\r\nimport PopupWithImage from \"../components/popup-with-image.js\";\r\nimport PopupWithForm from \"../components/popup-with-form.js\";\r\nimport UserInfo from \"../components/user-info.js\";\r\nimport Api from \"../components/Api.js\";\r\nimport PopupWithConfirm from \"../components/PopupWithConfirm.js\";\r\n\r\n\r\n// --- ФУНКЦИИ ---\r\n//функция открытия попапа с картинкой (при клике на карточку)\r\nfunction handleCardClick(title, link) {\r\n  popupWithImage.open(title, link);\r\n}\r\n\r\n//функция открытия попапа с подтверждением (при клике на корзину)\r\nfunction handleTrashClick(id, card) {\r\n  popupWithConfirm.setSubmitAction(() => handlePopupConfirm(id, card))\r\n  popupWithConfirm.open();\r\n}\r\n\r\n// функция удаления карточек от пользователя (подтверждение)\r\nfunction handlePopupConfirm(id, card) {\r\n  api.deleteCard(id)\r\n    .then(() => {\r\n      card.removeCard();\r\n      popupWithConfirm.close();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n}\r\n\r\n// функция отвечающая за постановку лайка\r\nfunction handleLikeClick(id, isLiked, card) {\r\n  if (isLiked) {\r\n    //отправляем запрос снятия лайка\r\n    api.dislikedCard(id)\r\n      .then((data) => {\r\n        card.setLikes(data.likes);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  } else {\r\n    //отправляем запрос на установку лайка\r\n    api.likedCard(id)\r\n      .then((data) => {\r\n        card.setLikes(data.likes);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}\r\n\r\n// функция редактирования профиля (сабмит формы)\r\nfunction handlePopupProfile(inputsData) {\r\n  popupFormProfile.renderSaving(true);\r\n\r\n  api.saveUserChanges(inputsData)\r\n    .then((data) => {\r\n      userInfo.setUserInfo(data);\r\n      popupFormProfile.close();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n    .finally(() => {\r\n      popupFormProfile.renderSaving(false);\r\n    })\r\n}\r\n\r\n// функция заполнения полей формы данными из профиля\r\nfunction handleTextInput() {\r\n  const userData = userInfo.getUserInfo();\r\n  popupProfileInputs.forEach(input => {\r\n    input.value = userData[input.name];\r\n  });\r\n}\r\n\r\n// функция создания карточек\r\nfunction createCard(dataCard, id) {\r\n  const card = new Card({\r\n      data: dataCard,\r\n      handleCardClick,\r\n      handleTrashClick,\r\n      handleLikeClick,\r\n    },\r\n    selectorObj.cardId,\r\n    id);\r\n\r\n  const newCard = card.generateCard();\r\n\r\n  return newCard;\r\n}\r\n\r\n// функция добавления новых карточек от пользователя (сабмит формы)\r\nfunction handlePopupAddCard(inputsData) {\r\n  popupFormAddCard.renderSaving(true);\r\n\r\n  api.postNewCard(inputsData)\r\n    .then((data) => {\r\n      cardList.addItemPrepend(createCard(data, data.owner._id));\r\n      popupFormAddCard.close();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n    .finally(() => {\r\n      popupFormAddCard.renderSaving(false);\r\n    })\r\n}\r\n\r\n// функция редактирования аватара пользователя (сабмит формы)\r\nfunction handlePopupChangeAvatar(inputsData) {\r\n  popupFormChangeAvatar.renderSaving(true);\r\n\r\n  api.changedAvatar(inputsData)\r\n    .then((data) => {\r\n      userInfo.setUserInfo(data);\r\n      popupFormChangeAvatar.close();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n    .finally(() => {\r\n      popupFormChangeAvatar.renderSaving(false);\r\n    })\r\n}\r\n\r\n\r\n\r\n// --- СЛУШАТЕЛИ СОБЫТИЙ ---\r\n//обработчик клика открытия попапа по кнопке 'Редактирования профиля'\r\neditButton.addEventListener('click', () => {\r\n  popupFormProfile.open();\r\n  handleTextInput();\r\n  validFormPopupProfile.resetValidationState();\r\n});\r\n\r\n//oбработчик клика открытия попапа по кнопке 'Добавление карточки'\r\naddPhotoButton.addEventListener('click', () => {\r\n  popupFormAddCard.open();\r\n  validFormPopupAddCard.resetValidationState();\r\n});\r\n\r\n//oбработчик клика открытия попапа по кнопке 'Редактирование аватара'\r\nchangeAvatarButton.addEventListener('click', () => {\r\n  popupFormChangeAvatar.open();\r\n  validFormPopupAddCard.resetValidationState();\r\n});\r\n\r\n\r\n\r\n// --- ДЕЙСТВИЯ ПРИ ЗАГРУЗКЕ СТРАНИЦЫ ---\r\n//создаем экземпляр класса Section\r\nconst cardList = new Section({\r\n    renderer: (cardItem, id) => {\r\n      cardList.addItem(createCard(cardItem, id));\r\n    },\r\n  },\r\n  selectorObj.elementsSelector\r\n);\r\n\r\n\r\n//создаем экземпляр класса PopupWhithImage и навешиваем слушатели событий\r\nconst popupWithImage = new PopupWithImage(selectorObj.popupImageSelector);\r\npopupWithImage.setEventListeners();\r\n\r\n//создаем экземпляр класса PopupWhithConfirm\r\n//и навешиваем слушатели событий\r\nconst popupWithConfirm = new PopupWithConfirm(selectorObj.popupConfirmSelector);\r\npopupWithConfirm.setEventListeners();\r\n\r\n\r\n//создаем экземпляр класса PopupWhithForm для попапа 'Редактирование профиля'\r\n//и навешиваем слушатели событий\r\nconst popupFormProfile = new PopupWithForm(selectorObj.popupProfileSelector, handlePopupProfile);\r\npopupFormProfile.setEventListeners();\r\n\r\n//создаем экземпляр класса PopupWhithForm для попапа 'Добавление карточки'\r\n//и навешиваем слушатели событий\r\nconst popupFormAddCard = new PopupWithForm(selectorObj.popupAddCardSelector, handlePopupAddCard);\r\npopupFormAddCard.setEventListeners();\r\n\r\n//создаем экземпляр класса PopupWhithForm для попапа 'Редактирование аватара'\r\n//и навешиваем слушатели событий\r\nconst popupFormChangeAvatar = new PopupWithForm(selectorObj.popupChangeAvatarSelector, handlePopupChangeAvatar);\r\npopupFormChangeAvatar.setEventListeners();\r\n\r\n\r\n//создаем экземпляры класса FormValidator и включаем валидацию форм\r\nconst validFormPopupAddCard = new FormValidator(validationObject, selectorObj.popupAddCardSelector);\r\nvalidFormPopupAddCard.enableValidation();\r\n\r\nconst validFormPopupProfile = new FormValidator(validationObject, selectorObj.popupProfileSelector);\r\nvalidFormPopupProfile.enableValidation();\r\n\r\nconst validFormPopupChangeAvatar = new FormValidator(validationObject, selectorObj.popupChangeAvatarSelector);\r\nvalidFormPopupChangeAvatar.enableValidation();\r\n\r\n\r\n//создаем экземпляр класса UserInfo\r\nconst userInfo = new UserInfo({\r\n  selectorName: selectorObj.profileNameSelector,\r\n  selectorJob: selectorObj.profileJobSelector,\r\n  selectorAvatar: selectorObj.avatarSelector,\r\n});\r\n\r\n//создаем экземпляр класса Api\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-29',\r\n  headers: {\r\n    authorization: '28180a9a-c680-40bd-99cb-2b6693fb89d7',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n//в Promise.all передаем массив промисов, которые нужно выполнить\r\nPromise.all([\r\n    api.getUserData(),\r\n    api.getInitialCards()\r\n  ])\r\n  .then((values) => {\r\n    userInfo.setUserInfo(values[0])\r\n    cardList.renderItems(values[1], values[0]._id);\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n  });\r\n"],"sourceRoot":""}